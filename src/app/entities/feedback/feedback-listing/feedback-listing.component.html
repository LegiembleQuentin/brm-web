<div class="grid">
  <div class="col-12">
    <p-toast></p-toast>

    <p-table #dt [value]="feedbacks" [columns]="cols" responsiveLayout="scroll" [rows]="10" [globalFilterFields]="['name','country.name','representative.name','status']" [paginator]="true" [rowsPerPageOptions]="[10,20,30]" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" selectionMode="multiple" [rowHover]="true" dataKey="id">
      <ng-template pTemplate="caption">
        <p-toolbar styleClass="mb-4">
          <h5 class="custom-title">Feedbacks</h5>
          <ng-template pTemplate="right">
            <div class="my-2 customBtnGrp">
<!--              <div class="search-bar">-->
<!--                <div class="input-search">-->
<!--                  <i class="pi pi-search"></i>-->
<!--                  <input type="text" [(ngModel)]="filters.search" (keyup.enter)="search()" (blur)="search()" placeholder="Rechercher">-->
<!--                </div>-->
<!--                <div class="underline-search"></div>-->
<!--              </div>-->
              <div class="addBtn">
                <span class="addBtnPlus">+</span> <span>Ajouter</span>
              </div>
            </div>
          </ng-template>
        </p-toolbar>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
          <th pSortableColumn="warning">Avertissement <p-sortIcon field="warning"></p-sortIcon></th>
          <th pSortableColumn="content">Description <p-sortIcon field="content"></p-sortIcon></th>
          <th pSortableColumn="createdAt">Date <p-sortIcon field="createdAt"></p-sortIcon></th>
          <th pSortableColumn="author">Auteur <p-sortIcon field="author"></p-sortIcon></th>
          <th pSortableColumn="employee">Employé concerné <p-sortIcon field="employee"></p-sortIcon></th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-feedback>
        <tr>
          <td style="width:14%; min-width:10rem;">
            <span class="p-column-title">ID</span>
            {{feedback.id}}
          </td>
          <td style="width:14%; min-width:10rem;" *ngIf="feedback.warning">
            <span class="p-column-title">Avertissement</span>
            Oui
          </td>
          <td style="width:14%; min-width:10rem;" *ngIf="!feedback.warning">
            <span class="p-column-title">Avertissement</span>
            Non
          </td>
          <td style="width:14%; min-width:10rem;">
          <span class="p-column-title">Description</span>
            {{feedback.content}}
        </td>
          <td style="width:14%; min-width:10rem;">
            <span class="p-column-title">Date</span>
            {{feedback.createdAt | date:'dd/MM/yyyy'  }}
          </td>
          <td style="width:14%; min-width:10rem;">
            <span class="p-column-title">Auteur</span>
            {{feedback.author.name}} {{feedback.author.firstname}}
          </td>
          <td style="width:14%; min-width:10rem;" *ngIf="feedback.employee">
            <span class="p-column-title">Employé concerné</span>
            {{feedback.employee.name}} {{feedback.employee.firstname}}
          </td>
          <td style="width:14%; min-width:10rem;" *ngIf="!feedback.employee">
            <span class="p-column-title">Employé concerné</span>
            Aucun
          </td>

          <td>
            <div class="flex">
              <button pButton pRipple icon="pi pi-ellipsis-h" class="p-button-rounded light-blue-custom-btn mr-2"></button>
<!--              <button pButton pRipple icon="pi pi-ellipsis-h" class="p-button-rounded light-blue-custom-btn mr-2" [routerLink]="['/employee', employee.id]"></button>-->
              <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded light-blue-custom-btn mr-2"></button>
<!--              <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded light-blue-custom-btn mr-2" (click)="openEdit(employee)"></button>-->
                            <button pButton pRipple icon="pi pi-trash" class="p-button-rounded red-custom-btn"></button>
<!--                            <button pButton pRipple icon="pi pi-trash" class="p-button-rounded red-custom-btn" (click)="deleteEmployee(employee)"></button>-->
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>


  </div>
</div>
